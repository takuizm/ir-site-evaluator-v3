# IRサイト評価ツール - LLMテスト用設定ファイル

# API設定
api:
  provider: "openai"  # claude or openai
  claude:
    model: "claude-3-5-sonnet-20241022"
    api_key_env: "ANTHROPIC_API_KEY"
    max_tokens: 4096
  openai:
    model: "gpt-4o-mini"
    api_key_env: "OPENAI_API_KEY"
    max_tokens: 4096
  max_retries: 3
  timeout: 60
  rate_limit_delay: 0.5

# スクレイピング設定
scraping:
  headless: true
  wait_until: "domcontentloaded"
  delay_after_load: 5.0  # ボット検出回避のため延長
  timeout: 60
  user_agent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
  max_parallel: 1
  screenshot_on_error: true

# 処理設定
processing:
  checkpoint_interval: 1
  batch_semantic_checks: true
  skip_errors: true
  max_retries_per_site: 2
  # サイトレベル並列実行設定
  enable_parallel: false  # 並列実行の有効/無効（デフォルト: false）
  max_parallel_sites: 1   # 同時に処理するサイト数（推奨: 3-10）
  # 項目レベル並列実行設定（LLM検証のみ）
  enable_item_parallel: false  # 項目レベル並列化の有効/無効（デフォルト: false）※OpenAI API制約により現在無効
  max_parallel_items_per_site: 10  # サイト内で同時に処理する項目数（推奨: 5-15）

# ログ設定
logging:
  level: "INFO"
  file: "output/test_249_execution.log"
  console: true
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# 出力設定
output:
  summary_csv: "output/test_249_results_summary.csv"
  detailed_csv: "output/test_249_results_detailed.csv"
  error_log: "output/test_249_error_log.txt"
  checkpoint_dir: "checkpoint"

# 入力設定
input:
  sites_list: "input/sites_test.csv"  # 1社テスト（Sony）
  validation_items: "input/validation_items.csv"  # 2025年版 249項目

# パフォーマンス設定
performance:
  enable_caching: true
  cache_dir: ".cache"
  max_cache_size_mb: 500
